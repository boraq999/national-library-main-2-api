import{d as v,j as e,B as s,o as S,a3 as C,q as u,e as l,G as m,a4 as w}from"./mui-MBCd4ndD.js";import{r as d}from"./vendor-gvDtyKy-.js";import{d as T,a as A}from"./Clear-BE6GuzOp.js";import{M as R,a as W}from"./index-BdNOU8-V.js";import{e as k}from"./config-gz8lDFmP.js";import"./router-gA8worJh.js";const G=()=>{const t=v(),[n,h]=d.useState(""),[o,c]=d.useState(null),[f,i]=d.useState(!1),[g,x]=d.useState(!1),j=async r=>{r.preventDefault(),x(!0),c(null),i(!1);try{const a=encodeURIComponent(n),b=`${k.reservedThesisTitles}?q=${a}`,p=await(await fetch(b)).json();x(!1),p&&p.length>0?c(p):i(!0)}catch(a){console.error("Error fetching data:",a),x(!1),i(!0)}},y=()=>{h(""),c(null),i(!1)};return e.jsx(s,{sx:{minHeight:"70vh",padding:"130px 20px 50px",display:"flex",alignItems:"center",justifyContent:"center",background:t.palette.background.default,py:15,px:{xs:1,md:10,lg:15},...t.bgGrid1},children:e.jsxs(S,{children:[e.jsx(R,{mainTitle:"ابحث عن عنوان رسالة بحثية"}),e.jsx(W,{mainText:"أدخل عنوان الرسالة البحثية بدقة للبحث في قاعدة بيانات المكتبة الوطنية."}),e.jsxs(s,{component:"form",onSubmit:j,sx:{display:"flex",gap:2,mb:4,justifyContent:"center",pt:10,flexDirection:{xs:"column",md:"row"}},children:[e.jsx(C,{fullWidth:!0,variant:"outlined",placeholder:"اكتب عنوان الرسالة...",value:n,onChange:r=>h(r.target.value),sx:{background:t.palette.background.paper,borderRadius:2}}),e.jsxs(s,{sx:{display:"flex",gap:1},children:[e.jsx(u,{type:"submit",variant:"contained",color:"primary",size:"large",startIcon:e.jsx(T,{}),disabled:g||!n.trim(),sx:{px:4,fontWeight:700,borderRadius:2,...t.btn1,"&:hover":{...t.btn1Hover}},children:"بحث"}),e.jsx(u,{variant:"outlined",color:"inherit",size:"large",startIcon:e.jsx(A,{}),onClick:y,disabled:!n.trim(),sx:{fontWeight:700,borderRadius:2},children:"مسح"})]})]}),Array.isArray(o)&&o.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs(l,{variant:"subtitle1",sx:{mt:2,textAlign:"right",fontWeight:600,color:t.palette.primary.main},children:["تم العثور على",e.jsx("span",{style:{backgroundColor:"#33d13df9",padding:"4px 7px",borderRadius:"5px",border:"1px solid yellow",color:"#fff"},children:o.length})," نتيجة"]}),e.jsx(m,{container:!0,spacing:3,sx:{mt:2},children:o.map((r,a)=>e.jsx(m,{item:!0,xs:12,sm:6,md:6,children:e.jsxs(s,{sx:{...t.card1,p:3,display:"flex",flexDirection:"column",minHeight:180,justifyContent:"space-between","&:hover":{boxShadow:t.shadows[t.palette.mode==="light"?8:16]}},children:[e.jsx(l,{variant:"h6",fontWeight:800,color:t.palette.primary,gutterBottom:!0,sx:{mb:1,textAlign:"center",fontSize:"1.1rem"},children:r.title}),e.jsx(s,{sx:{borderBottom:`1px solid ${t.palette.divider}`,mb:2,opacity:.5}}),e.jsx(l,{variant:"body1",fontWeight:600,color:t.palette.text.secondary,sx:{mb:2,textAlign:"center"},children:r.person_name||"---"}),e.jsx(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:"auto"},children:e.jsx(l,{variant:"body2",color:t.palette.text.secondary,fontWeight:500,children:r.university||"---"})})]})},a))})]}),f&&e.jsx(w,{severity:"warning",sx:{mt:4,fontWeight:700,borderRadius:2,textAlign:"center"},children:"هذا العنوان غير موجود في قاعدة البيانات."})]})})};export{G as default};
